<!DOCTYPE html>
<html ng-app="weatherDashboard">
<head lang="en">
    <meta charset="UTF-8">
    <title>Weather</title>
    <link rel="stylesheet" href="libs/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="libs/angular-material/angular-material.min.css" />
    <link rel="stylesheet" href="libs/angular-material/themes/blue-theme.css" />
    <link rel="stylesheet" href="libs/font-awesome/css/font-awesome.min.css" />
    <link rel="stylesheet" href="css/weather-icons.css" />
    <link rel="stylesheet" href="css/weather.css" />

</head>
<body ng-controller="mainViewController">

<div class="map-container">
    <div map-view class="map">
        <div class="map-toolbar">
            <md-button aria-label="Toggle layer"  class="md-raised" ng-class="{'md-primary': mapParameters.layer == 'temperature'}" ng-click="toggleLayer('temperature')">Temperature</md-button>
            <md-button aria-label="Toggle layer"  class="md-raised" ng-class="{'md-primary': mapParameters.layer == 'pressure'}" ng-click="toggleLayer('pressure')">Pressure</md-button>
            <md-button aria-label="Toggle layer"  class="md-raised" ng-class="{'md-primary': mapParameters.layer == 'wind'}" ng-click="toggleLayer('wind')">Wind</md-button>
        </div>
    </div>
</div>
<div class="info-container">
    <md-content>
        <md-toolbar>
            <h2 class="md-toolbar-tools">
                <span>Weather</span>
            </h2>
        </md-toolbar>
    </md-content>
    <md-content class="md-padding search-box">
        <md-text-float label="Search a city" ng-model="searchQuery"></md-text-float>
        <md-list class="search-completions" ng-show="showCompletions">
            <md-item ng-repeat="s in searchResults">
                <div class="md-tile-content" ng-click="selectEntry(s)">
                    <h4>{{ s.city }} <small>({{s.name }})</small>  </h4>
                </div>
            </md-item>
            <md-item ng-show="searchResults.length == 0">
                <div class="md-tile-content">
                    <em>No cities found</em>
                </div>
            </md-item>
        </md-list>
    </md-content>
    <md-divider></md-divider>
    <md-content class="md-padding station-details" ng-if="weather">
        <div layout="horizontal">
            <div class="weather-icon">
                <span class="wi" ng-class="weatherIcon(weather)"></span>
            </div>
            <div flex>
                <h3>{{ weather.city }} ( {{ weather.name }} )</h3>
            </div>
        </div>
        <div layout="horizontal">
            <div class="weather-icon">
                <span class="wi wi-thermometer"></span>
            </div>
            <div flex>
                <h3>{{ weather.temperature }} Â° C </h3>
            </div>
            <div class="weather-icon">
                <span class="wi wi-sprinkles"></span>
            </div>
            <div flex>
                <h3>{{ weather.humidity }} % </h3>
            </div>
            <div class="weather-icon" ng-if="weather.wind && weather.wind.speed">
                <span class="wi" ng-class="windIcon(weather)"></span>
            </div>
            <div flex ng-if="weather.wind && weather.wind.speed">
                <h3>{{ weather.wind.speed  | toKmh | number:0 }} km/h </h3>
            </div>

        </div>

        <div layout="horizontal">
            <div class="weather-icon">
                <span class="wi wi-sunrise"></span>
            </div>
            <div flex>
                <h4> {{ formatHour(weather.sunTimes.sunrise)}} </h4>
            </div>

            <div class="weather-icon">
                <span class="wi wi-sunset"></span>
            </div>
            <div flex>
                <h4> {{ formatHour(weather.sunTimes.sunset) }} </h4>
            </div>
        </div>

    </md-content>

</div>


<script src="libs/jquery/dist/jquery.min.js"></script>
<script src="libs/angular/angular.min.js"></script>
<script src="libs/angular-route/angular-route.min.js"></script>
<script src="libs/leaflet/dist/leaflet.js"></script>
<script src="libs/hammerjs/hammer.min.js"></script>
<script src="libs/angular-aria/angular-aria.min.js"></script>
<script src="libs/angular-animate/angular-animate.min.js"></script>
<script src="libs/angular-material/angular-material.min.js"></script>

<script src="js/weather-main.js"></script>
<script src="js/mainViewController.js"></script>
<script src="js/map.js"></script>
<script src="js/filters.js"></script>

</body>
</html>